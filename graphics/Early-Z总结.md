#### 深度测试

1. 深度测试在片段着色器之后进行，位于测试合并阶段，如果片段通过深度测试，则更新深度缓冲和颜色缓冲，否则丢弃；
2. 缺点是，放在片段着色器之后进行，会造成计算资源的浪费；

#### Early-Z

1. Early-Z
   - Early-Z相当于把深度测试提前到片段着色器之前进行，在光栅化之后，未通过深度测试的片段便无须进入片段着色器计算了；
   - Early-Z是在硬件中写死的；
2. 限制
   - Early-Z和Alpha Test的冲突：片段A遮挡了片段B，Early-Z深度测试只保留A，但A确实透明的，实际应该渲染B；所以透明物体渲染无法使用Early-Z技术，可以使用PreZ解决该问题；

#### Pre-Z

1. Pre-Z是深度预计算Pass,在Early-Z失效时的手动替代方案；
2. EarlyZ这个特性在开了AlphaTest的时候会失效，所以为了不让他失效，引擎会做一个PreZ的pass先画一遍带AlphaTest的物体的深度，这样后面再正常画这个物体的时候就不用开AlphaTest了，这时候EarlyZ也是生效的。

