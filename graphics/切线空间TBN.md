### 切线空间总结

1. 法线映射 (normal mapping)

   - 在phong shading中使用顶点的法线，在片段上进行插值得到片段的法线；

   - 使用法线映射纹理时，插值uv,采样法线贴图，得到每个片段的法线，更加提升细节；

   - 法线映射分为全局坐标系和切线坐标系两种，左侧全局坐标系法线贴图，右侧切线空间法线贴图；

     ![img](https://raw.githubusercontent.com/ssloy/tinyrenderer/gh-pages/img/06b-tangent-space/nm_textures.jpg)

2. 切线空间

   - 计算每个片段时，以该片段为中心，在物体的表面形成一个切线空间，以Z轴垂直物体表面，XY平面与物体的表面在片段处相切；切线空间的XY方向（切线、副切线）取该点处的UV方向；
   - 读取切线空间的法线贴图，将其转换到全局空间；
   - 运动的物体，使用全局空间的法线贴图，运动时法线是固定的，效果不对；使用切线空间的法线贴图，因为切线空间会随着物体运动，所以法线也会跟着动，效果才对；
   - 切线空间到世界坐标系如何转换？

3. 