### 全部变量、静态局部变量区别对比表

| 特性           | 全局变量                     | 静态局部变量                 |
| -------------- | ---------------------------- | ---------------------------- |
| **声明位置**   | 所有函数外部                 | 函数内部（用 `static` 修饰） |
| **作用域**     | 文件作用域（整个文件可见）   | 块作用域（仅在函数内可见）   |
| **初始化时机** | 程序启动时（main之前）       | 首次执行到声明处时           |
| **访问权限**   | 可被文件内所有函数访问       | 仅限声明它的函数内部访问     |
| **链接性**     | 默认外部链接（可跨文件访问） | 无链接（完全局部）           |
| **生命周期**   | 整个程序运行期               | 整个程序运行期               |



```t
┌──────────────────────┐
│      全局变量 a      │<───整个文件可见
├──────────────────────┤
│        main()        │
│   ┌───────────────┐  │
│   │ 局部变量 b    │  │
│   └───────────────┘  │
├──────────────────────┤
│        foo()         │
│   ┌────────────────┐ │
│   │ 静态局部变量 c ├─┼──┐
│   └────────────────┘ │  │
└──────────────────────┘  │
     程序内存布局         │
                          │
c 实际存在于静态存储区───┘（但只在 foo() 内可访问）
```

