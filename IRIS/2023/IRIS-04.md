## 传送门bug

1. media player 切换视频模式时，传送门显示效果错误

   解决思路：传送门显示之后，系统只响应传送门的两个点击事件，屏蔽其他scene object事件，避免其他各种app的各种显示效果问题

   CommonState::checkFocus

2. 传送门显示在其他应用后方时，交互体验差  **0407**

   解决思路：传送门显示之后，系统只响应传送门的enter和cancel的点击事件，屏蔽其他所有scene object的事件，传送门enter或cancel之后再恢复正常，避免该issue中所说的体验差的问题，同时也避免media player切换视频模式时传送门显示效果不对的问题； 

##### TODO:

1. 引擎设置分层layer总结

## 手势方案实现

1. 手势驱动接入

2. 手势动画
   - 一维混合
   - 动画参数
   - 动画状态机

3. 手势交互
   - 抓握物体：
     - 不同size物体，对应不同的手势pose? 物体该如何嵌入到手中？
     
     - 尝试IK解决 **PEND**
       - 基于two bone ik，实现手指捏握物体交互；  **80%** 
       - 基于FABRIK，实现捏握物体交互   
       - 手势模型优化
       - 手势抓握物体效果优化
     
     - 尝试基于**碰撞检测+动画**解决
       - 手指指尖增加碰撞体，碰撞体碰撞到任意物体时，停止animation 数据对该手指所有关节transform的更新； **DONE**
       - 捏握物体时(pinch及grab），拇指完成碰撞之后，物体跟随拇指运动；不关心食指、其他四指是否先碰撞到物体；
       - poke状态和默认状态时，任意一根手指碰撞到物体，物体便跟随最先碰撞到的手指运动,可以实现推动效果；
       - 碰撞存在的问题：
         - **不支持两个碰撞体之间的碰撞，手指需设置为Kinematic刚体，还存在bug； **
         - **碰撞精确度不够**
         - **碰撞在手指运动速度较快时，可能会不触发**
     
     - 尝试基于射线检测解决交互问题
     
       每个手指设置一根垂直于手指、指向手内侧的射线，用射线实时检测碰撞体，检测到之后，停止更新该手指的动画；
     
       - 捏、握的收紧和张开  
       - 物体跟随父骨骼运动
       - 存在的问题：
         - 手指射线位置需要调整为末端两个关节的中间；
         - 违反物理直觉：会存在穿模问题，手能以不可能的角度捏握起物体等；
         - 物体只能跟随一只手运动，不能跟随两只手；
     
   - 碰撞物体
     - 基于射线实现UI控件的点击

4. 手势事件 ： 需要实现哪些事件？
   - 点击、抓握、捏合
   - 事件与动画之间如何对应

5. 手势手柄功能通用、体验类似、切换方便

6. occulus手势方案调研

   - TouchGrab
   - Transformer
   - Poke

7. 







